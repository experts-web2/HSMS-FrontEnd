<!-- <p>sample-collection-print works!</p> -->
<div class="h-full relative">
    <ng-container *ngIf="invoice">
        <div class="flex justify-between pb-3">
            <div class="flex flex-column">
                <span><strong>Invoice Date: </strong> {{invoice.createdAt | date: 'EEE MMM, dd/yyyy'}}</span>
                <span><strong>Inv#: </strong> {{invoice.invoiceNumber}}</span>
            </div>
            <div>
                <h2>Sample Collection Slip</h2>
            </div>
            <div class="flex flex-column">
                <span><strong>Patient Name: </strong>{{invoice.patient.name}}</span>
                <span><strong>Gender: </strong> {{invoice.patient.gender}}</span>
                <span><strong>Age: </strong> {{invoice.patient.age}}</span>
            </div>
        </div>
        <hr class="w-full pb-2">
        <div class="flex justify-center">
    
            <table class="w-4/5 table-auto">
                <thead>
                    <tr>
                        <th>Sr#</th>
                        <th>Test Name</th>
                        <th>Sample</th>
                        <th>Sample Id</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let invItem of invoice.invoiceItems; let i = index">
                        <td>{{i + 1}}</td>
                        <td>{{invItem.labTest.name}}</td>
                        <td>{{invItem.labTest.testSample}}</td>
                        <td>{{getSampleId(invItem.labTest.id)}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    
    </ng-container>
    <div class="absolute inset-x-0 bottom-3" *ngIf="invoice.invoiceItems">
        <div class="flex flex-column">
            <div class="flex justify-center">
                <h3>Sample Id's For Sample Vials</h3>

            </div>
            <div class="flex flex-row-reverse">
                <div class="flex flex-column pr-3">
                    <div class="" *ngFor="let invItem of invoice.invoiceItems; let i = index">
                        <span class="p-3">{{getSampleId(invItem.labTest.id)}}</span>
                        <hr class="border-dotted" *ngIf="(invoice.invoiceItems.length - 1) !== i">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="gap-2 flex " p-dialog-footer>
    <p-button (onClick)="print()" [label]="'Print'"></p-button>
    <p-button (onClick)="close()" [label]="'Close'"></p-button>
</div>